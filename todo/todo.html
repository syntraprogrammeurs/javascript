<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Todo App</title>
</head>
<body>
<form id="new_task_form">
    <input id="new_task" type="text" placeholder="Create New Task...">
    <button id="new_task_button" type="submit">+</button>
</form>
<hr>
<section id="taskList">

</section>
<script>
    /** Toevoegen van een event listener op de form tag **/
    var taskform = document.getElementById("new_task_form");
    taskform.setAttribute("style","background:red;");
    var taskList = document.getElementById("taskList");
    taskform.addEventListener("submit",function(e){
        e.preventDefault();//standaard gedraging van de submit button uitschakelen.
        //var newTaskInputValue = document.getElementById("new_task").value;
        var newTaskInputValue = taskform.elements.new_task;
        addTask(newTaskInputValue.value);
        //reset van de Inputvalue
        newTaskInputValue.value = "";
    });
    function addTask(newTaskInputValue){
        /*<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
            <label htmlFor="vehicle1"> I have a bike</label><br>

            <div>
                <button>Trash</button>
                <input type="checkbox">
                <label>Taak 1</label>
            </div>

            */
        /** opbouw van de tags **/
        const div = document.createElement("div");
        const trash = document.createElement("button");
        const checkbox = document.createElement("input");
        checkbox.type="checkbox";
        const label = document.createElement("label");

        /** Toevoegen van de waarden van de button en de ingevulde taak door de gebruiker**/
        trash.innerHTML = "DEL";
        label.innerText = newTaskInputValue;

        /**injectie volgorde HTML elementen**/
        div.appendChild(trash);
        div.appendChild(checkbox);
        div.appendChild(label);

        /** injectie van de volledig div in de tasklists **/
        taskList.appendChild(div);

        /** addEventListener aan het checkbox element verbinden met het click event **/
        checkbox.addEventListener("click", function(){
           if(checkbox.checked == true){
               div.style.textDecoration = "line-through";
           } else{
               div.style.textDecoration = "none";
           }
        });

        /** addEventListener aan het trash element verbinden met een click event. **/
        trash.addEventListener("click", function(){
           div.remove();
        });
    }

</script>

</body>
</html>
